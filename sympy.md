
SymPy Algebra
-------------

\label{sec:sympy-software}

A computer algebra system is composed of a data structure to represent mathematical expressions in a computer, a syntax for the idiomatic construction of trees by mathematical users, and a collection of functions for common mathematical routines.

SymPy \cite{sympy} is a computer algebra system embedded in the Python language.  It implements these pieces as follows:

### Operators

Both SymPy operators and SymPy literal types are implemented as Python classes.

~~~~~~~~~~Python
# Literal Types
class Symbol(Expr):
    ...
class Integer(Expr):
    ...

# Operators
class Add(Expr):
    ...
class Mul(Expr):
    ...
class Log(Expr):
    ...
~~~~~~~~~~

Literal and variable terms are instantiated as Python objects.  Standard Python variables are used for identifying information.

~~~~~~~~~~Python
one = Integer(1)  # 1 is a Python int
x = Symbol('x')   # 'x' is a Python string
~~~~~~~~~~

Compound terms are also instantiated as Python objects.  These contain SymPy terms as children.

~~~~~~~~~~Python
y = Add(x, 1)
z = Mul(3, Add(x, 5), Log(y))
~~~~~~~~~~

Every term can be fully described by its operation, stored as its type, and its children, stored as the instance variable `.args`

~~~~~~~~~~Python
>>> type(y)
Add
>>> y.args
(x, 1)
~~~~~~~~~~

At the lowest level SymPy manipulations are simply Python functions that inspect these terms, manipulate them with Python statements, and return the new versions.


### Syntax and Printing

\label{sec:sympy-syntax}

Reading and writing terms like `z = Mul(3, Add(x, 5), Log(y))` can quickly become cumbersome, particularly for mathematical users generating large complex equations.  

Because SymPy is embedded in a pre-existing language it can not define its own grammar but must instead restrict itself to the expressiveness of the host language.  To support mathematically idiomatic term construction, operator and literal classes overload hooks for Python operator syntax like `__add__`, `__mul__`, and `__call__`.  To support mathematically idiomatic textual representation these classes also overload hooks for interactive printing like `__str__`.  SymPy also implements printers for LaTeX and unicode which can be called on by the ubiquitous `ipython` console and notebook tools.  Most mathematics in this document is automatically generated by SymPy.  Together these hooks provide an intuitive interactive experience for mathematical users

~~~~~~~~~~Python
>>> from sympy import Symbol, log, exp, simplify
>>> x = Symbol('x')
>>> y = log(3*exp(x + 2))
>>> print y
log(3*exp(x + 2))

>>> print simplify(y)
x + log(3) + 2
~~~~~~~~~~

### Relation to Other Computer Algebra Systems 

SymPy differs from existing computer algebra systems in the following ways

#### Application:  

SymPy's community is more focused around scientific and computational applications and less around pure mathematics.  This is largely due to the focus of the developer community.  SymPy is one of six core modules within the scientific Python software stack.

#### Library:  

Other dominant computer algebra systems today serve as a monolithic fully-featured development environment.  They surround a computer algebra system core with specific numeric, visual, and database components.  Interoperation with other software systems (e.g. application specific scientific codes) is rare.  In contrast SymPy is intended to be imported as a library within other applications.  It aggressively limits its scope, providing interfaces to other popular systems for visualization, computation, etc... instead of shipping with particular implementations.

#### Pure Python: 

SymPy is written in Python, a common language for accessible scientific computing.  Additionally SymPy restricts itself to pure Python rather than relying on C extension modules.  This restriction sacrifices performance to enable trivial build and installation for ease of access and broad interoperation.  This feature is often cited by users as a primary motivation for the choice of SymPy over other computer algebra systems.
